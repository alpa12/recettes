# ============================================================
# Exemple complet de recette (sert uniquement de référence)
# ============================================================

exemple:

  nom: Poulet Alfredo
  nom_court: poulet-alfredo
  source: Ricardo
  portions: 4
  se_congele: true

  categories:
    - Poulet
    - Rapide

  temps:
    preparation: 20
    cuisson: 30
    refrigeration: null

  preparation:
    - section: Sauce
      etapes:
        - etape: Mélanger les ingrédients.
          ingredients:
            - nom: Crème
              qte: 1
              uni: t
          equipements:
            - Bol

  commentaires:
    - Excellent
    - À refaire

# ============================================================
# Schéma dynamique du formulaire
# ============================================================

_schema:

  type: object
  required:
    - nom
    - nom_court
    - source
    - portions

  properties:

    nom:
      type: string
      title: Nom
      description: Nom complet de la recette

    nom_court:
      type: string
      title: Nom court
      description: Nom court pour la table des matières

    source:
      type: string
      title: Source
      description: D'où vient la recette

    portions:
      type: integer
      title: Portions
      description: Nombre de portions

    se_congele:
      type: boolean
      title: Se congèle
      description: Est-ce que la recette peut être congelée ?

    categories:
      type: array
      title: Catégories
      items:
        type: string

    temps:
      type: object
      title: Temps
      properties:
        preparation:
          type: integer
          nullable: true
        cuisson:
          type: integer
          nullable: true
        refrigeration:
          type: integer
          nullable: true

    preparation:
      type: array
      title: Préparation
      items:
        type: object
        properties:
          section:
            type: string
          etapes:
            type: array
            items:
              type: object
              properties:
                etape:
                  type: string
                ingredients:
                  type: array
                  items:
                    type: object
                    properties:
                      nom:
                        type: string
                      qte:
                        type: number
                      uni:
                        type: string
                equipements:
                  type: array
                  items:
                    type: string

    commentaires:
      type: array
      items:
        type: string

    image_guid:
      type: string
      title: Image de couverture
      description: Téléverse une image JPG (elle sera renommée automatiquement).
      nullable: true
